<addon id="context.plexkodiconnect.download" version="2025.12.12" name="PlexKodiConnect Download" provider-name="Breezyslasher">
    <requires>
        <import addon="xbmc.python" version="3.0.0"/>
    </requires>
    <extension point="kodi.context.item">
        <menu id="kodi.core.main">
            <item library="default.py">
                <label>Download from Plex</label>
                <visible>
                    [String.Contains(ListItem.Path,plex)] | 
                    [String.Contains(ListItem.Path,plugin://plugin.audio.plexkodiconnect)] |
                    [String.StartsWith(ListItem.Path,musicdb://)] |
                    [String.StartsWith(ListItem.Path,videodb://tvshows)] |
                    [String.IsEqual(Container.Content,artists)] |
                    [String.IsEqual(Container.Content,albums)] |
                    [String.IsEqual(Container.Content,songs)]
                </visible>
            </item>
        </menu>
    </extension>
    <extension point="xbmc.addon.metadata">
        <assets>
            <icon>icon.png</icon>
        </assets>
        <summary lang="en_GB">Download Plex media for offline viewing/listening</summary>
        <description lang="en_GB">Adds a context menu option to download movies, TV shows, and music from PlexKodiConnect to your Kodi device for offline use. Supports downloading individual items, entire albums/seasons, or full artists/shows.</description>
        <language>en</language>
        <platform>all</platform>
        <license>MIT</license>
    </extension>
</addon>
