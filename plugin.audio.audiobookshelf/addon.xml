<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<addon id="plugin.audio.audiobookshelf" name="Audiobookshelf" version="1.0.2" provider-name="Breezyslasher">
	<requires>
		<import addon="xbmc.python" version="3.0.0"/>
		<import addon="script.module.requests" version="2.31.0" />
	</requires>
	<extension point="xbmc.python.pluginsource" library="default.py">
		<provides>audio</provides>
	</extension>
	<extension point="xbmc.addon.metadata">
		<summary lang="en_GB">Audiobookshelf client for Kodi</summary>
		<description lang="en_GB">Stream audiobooks and podcasts from your Audiobookshelf server. Features include:

* Stream audiobooks (M4B, MP3, multi-file)
* Stream podcasts with episode management
* Progress sync with server
* Download for offline playback
* Chapter navigation
* Resume playback
* Search and add new podcasts
* Find and download new episodes
* API Key or Username/Password authentication</description>
		<language></language>
		<platform>all</platform>
		<license>GPL-3.0-or-later</license>
		<source>https://github.com/platzregen/audiobookshelf_simpleclient</source>
		<assets>
			<icon>resources/icon.png</icon>
		</assets>
		<news>
v1.0.2 (2025-12-09) - Kodi 21 Compatibility
- FIXED: "takes at most 2 arguments" error - Kodi 21 changed DialogProgress.update() API
- FIXED: RSS refresh now uses POST request (required by newer Audiobookshelf)
- FIXED: Podcast [Done] marker - now shows [X/Y] episode count, never [Done]
- FIXED: Batch add episodes properly reports results
- IMPROVED: Falls back to GET if POST returns 404 (older server compatibility)
- IMPROVED: Better logging for debugging RSS/server issues

v1.0.1 (2025-12-09) - Bug Fixes
- FIXED: Invalid credentials now shows error instead of offline mode
- FIXED: Token caching persists to file
- FIXED: Progress sync no longer marks items finished prematurely
- REMOVED: Grid view option (skin-dependent)

v1.0.0 (2025-12-09) - Major Release
- NEW: API Key authentication
- NEW: Auto-navigate when only one library type
- NEW: Progress markers [X%] for audiobooks
		</news>
	</extension>
</addon>
